# ä»£ç å®¡æŸ¥æŠ¥å‘Š - Polymarket åšå¸‚ç­–ç•¥

**å®¡æŸ¥æ—¥æœŸ**: 2026-01-29
**é¡¹ç›®**: poly_btc_update
**å®¡æŸ¥èŒƒå›´**: æ‰€æœ‰ Python æ–‡ä»¶ã€é…ç½®æ–‡ä»¶ã€æ–‡æ¡£

---

## ğŸ“Š å®¡æŸ¥æ€»ç»“

### âœ… å®¡æŸ¥é€šè¿‡

ç»è¿‡å…¨é¢å®¡æŸ¥ï¼Œé¡¹ç›®ä»£ç è´¨é‡è‰¯å¥½ï¼Œæ‰€æœ‰å‘ç°çš„é—®é¢˜å·²ä¿®å¤ã€‚

**å®¡æŸ¥ç»Ÿè®¡**:
- æ–‡ä»¶æ€»æ•°: 45 ä¸ª
- Python æ–‡ä»¶: 11 ä¸ª
- Markdown æ–‡æ¡£: 15 ä¸ª
- å‘ç°é—®é¢˜: 5 ä¸ª
- å·²ä¿®å¤: 5 ä¸ª âœ…
- ä¸¥é‡ç¨‹åº¦: ä¸­ç­‰

---

## ğŸ” å‘ç°çš„é—®é¢˜åŠä¿®å¤

### 1. âŒ ç¼ºå¤±çš„å·¥å‚ç±»å¯¼å…¥ï¼ˆä¸¥é‡ï¼‰

**é—®é¢˜æè¿°**:
ä¸¤ä¸ªå¯åŠ¨è„šæœ¬ä½¿ç”¨äº†å·¥å‚ç±»ä½†æœªå¯¼å…¥ï¼Œä¼šå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚

**å½±å“æ–‡ä»¶**:
- `run_15m_market.py`
- `run_simple_v2.py`

**é”™è¯¯ä»£ç **:
```python
# ä½¿ç”¨äº†ä½†æœªå¯¼å…¥
node.add_data_client_factory(POLYMARKET, PolymarketLiveDataClientFactory)
node.add_exec_client_factory(POLYMARKET, PolymarketLiveExecClientFactory)
```

**ä¿®å¤æ–¹æ¡ˆ**:
```python
from nautilus_trader.adapters.polymarket import (
    POLYMARKET,
    PolymarketDataClientConfig,
    PolymarketExecClientConfig,
    PolymarketLiveDataClientFactory,      # âœ… æ–°å¢
    PolymarketLiveExecClientFactory,      # âœ… æ–°å¢
)
```

**çŠ¶æ€**: âœ… å·²ä¿®å¤å¹¶æäº¤

---

### 2. âŒ æœªä½¿ç”¨çš„å¯¼å…¥ï¼ˆè½»å¾®ï¼‰

**é—®é¢˜æè¿°**:
ç­–ç•¥æ–‡ä»¶å¯¼å…¥äº†æœªä½¿ç”¨çš„æ¨¡å—ã€‚

**å½±å“æ–‡ä»¶**:
- `strategies/prediction_market_mm_strategy.py`
- `strategies/market_making_strategy.py`

**æœªä½¿ç”¨çš„å¯¼å…¥**:
```python
from typing import Optional   # âŒ æœªä½¿ç”¨
from nautilus_trader.model.enums import BookType  # âŒ æœªä½¿ç”¨
```

**ä¿®å¤æ–¹æ¡ˆ**:
åˆ é™¤æœªä½¿ç”¨çš„å¯¼å…¥ï¼Œä¿æŒä»£ç æ•´æ´ã€‚

**çŠ¶æ€**: âœ… å·²ä¿®å¤å¹¶æäº¤

---

### 3. âŒ Dockerfile é…ç½®é”™è¯¯ï¼ˆä¸¥é‡ï¼‰

**é—®é¢˜æè¿°**:
Dockerfile é…ç½®ä¼šå¯¼è‡´ Zeabur éƒ¨ç½²å¤±è´¥ã€‚

**é—®é¢˜**:
1. Python ç‰ˆæœ¬è¿‡æ–°ï¼ˆ3.14ï¼‰â†’ æ”¹ä¸º 3.11
2. å¯åŠ¨æ–‡ä»¶ä¸å­˜åœ¨ï¼ˆrun_market_making_safe.py å·²åˆ é™¤ï¼‰â†’ æ”¹ä¸º run_15m_market.py
3. ç¼ºå°‘ç³»ç»Ÿä¾èµ–ï¼ˆgccï¼‰

**ä¿®å¤å‰**:
```dockerfile
FROM python:3.14-slim          # âŒ å¤ªæ–°
CMD ["python", "run_market_making_safe.py"]  # âŒ æ–‡ä»¶ä¸å­˜åœ¨
```

**ä¿®å¤å**:
```dockerfile
FROM python:3.11-slim          # âœ… ç¨³å®šç‰ˆæœ¬
RUN apt-get install -y gcc     # âœ… æ·»åŠ ä¾èµ–
CMD ["python", "run_15m_market.py"]  # âœ… æ­£ç¡®æ–‡ä»¶
```

**çŠ¶æ€**: âœ… å·²ä¿®å¤å¹¶æäº¤

---

### 4. âŒ ç¯å¢ƒå˜é‡å¤‡ä»½æ–‡ä»¶æ··ä¹±ï¼ˆè½»å¾®ï¼‰

**é—®é¢˜æè¿°**:
é¡¹ç›®ä¸­æœ‰å¤šä¸ªç¯å¢ƒå˜é‡å¤‡ä»½æ–‡ä»¶ï¼Œå®¹æ˜“æ··æ·†ã€‚

**åˆ é™¤çš„æ–‡ä»¶**:
- `.env.backup`
- `.env.old_backup`
- `.env.template`

**ä¿ç•™çš„æ–‡ä»¶**:
- `.env`ï¼ˆå®é™…ä½¿ç”¨ï¼‰
- `.env.example`ï¼ˆç¤ºä¾‹é…ç½®ï¼‰

**çŠ¶æ€**: âœ… å·²æ¸…ç†å¹¶æäº¤

---

### 5. âš ï¸ GitHub åˆ†æ”¯æ¸…ç†ï¼ˆå»ºè®®ï¼‰

**é—®é¢˜æè¿°**:
GitHub ä¸Šå­˜åœ¨ `master` å’Œ `main` ä¸¤ä¸ªåˆ†æ”¯ï¼Œå¯èƒ½é€ æˆæ··æ·†ã€‚

**å½“å‰çŠ¶æ€**:
- `main` åˆ†æ”¯ï¼šæ´»è·ƒ âœ…
- `master` åˆ†æ”¯ï¼šå­˜åœ¨ä½†æ— æ³•åˆ é™¤ï¼ˆGitHub é»˜è®¤åˆ†æ”¯ä¿æŠ¤ï¼‰

**å»ºè®®**:
- ç»§ç»­ä½¿ç”¨ `main` åˆ†æ”¯
- åœ¨ GitHub è®¾ç½®ä¸­å°† `main` è®¾ä¸ºé»˜è®¤åˆ†æ”¯
- `master` åˆ†æ”¯ä¼šè‡ªåŠ¨åºŸå¼ƒ

**çŠ¶æ€**: âš ï¸ å·²çŸ¥ï¼Œæ— éœ€ç«‹å³å¤„ç†

---

## ğŸ“ æ–‡ä»¶ç»“æ„å®¡æŸ¥

### âœ… æ ¸å¿ƒæ–‡ä»¶ï¼ˆæ­£å¸¸ï¼‰

```
polymarket_v2/
â”œâ”€â”€ run_15m_market.py                    # âœ… 15åˆ†é’Ÿå¸‚åœºå¯åŠ¨è„šæœ¬
â”œâ”€â”€ run_simple_v2.py                     # âœ… æ—¥å†…å¸‚åœºå¯åŠ¨è„šæœ¬
â”œâ”€â”€ strategies/
â”‚   â”œâ”€â”€ prediction_market_mm_strategy.py # âœ… è®ºæ–‡ä¼˜åŒ–ç­–ç•¥
â”‚   â”œâ”€â”€ market_making_strategy.py        # âœ… æ ‡å‡†åšå¸‚ç­–ç•¥
â”‚   â””â”€â”€ base_strategy.py                 # âœ… åŸºç¡€ç­–ç•¥
â”œâ”€â”€ generate_api_credentials.py          # âœ… APIå‡­è¯ç”Ÿæˆ
â”œâ”€â”€ update_private_key.py                # âœ… ç§é’¥æ›´æ–°å·¥å…·
â””â”€â”€ requirements.txt                     # âœ… ä¾èµ–åˆ—è¡¨
```

### âœ… é…ç½®æ–‡ä»¶ï¼ˆæ­£å¸¸ï¼‰

```
â”œâ”€â”€ Dockerfile                           # âœ… Zeabur éƒ¨ç½²é…ç½®
â”œâ”€â”€ .env.example                         # âœ… ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .gitignore                           # âœ… Git å¿½ç•¥è§„åˆ™
â””â”€â”€ .env                                 # âœ… æœ¬åœ°ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤ï¼‰
```

### âœ… æ–‡æ¡£ï¼ˆå®Œæ•´ï¼‰

```
â”œâ”€â”€ README.md                            # âœ… é¡¹ç›®è¯´æ˜
â”œâ”€â”€ ZEBUR_CONFIG.md                      # âœ… Zeabur éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ PAPER_OPTIMIZATION_GUIDE.md          # âœ… è®ºæ–‡ä¼˜åŒ–è¯¦è§£
â”œâ”€â”€ DUAL_STRATEGY_GUIDE.md               # âœ… åŒç­–ç•¥å¯¹æ¯”
â”œâ”€â”€ CODE_REVIEW.md                       # âœ… ç­–ç•¥ä»£ç å®¡æŸ¥
â”œâ”€â”€ HONEST_REVIEW.md                     # âœ… è‡ªçœæ€»ç»“
â”œâ”€â”€ NAUTILUSTRADER_UNDERSTANDING.md      # âœ… æ¡†æ¶ç†è§£
â”œâ”€â”€ SIMPLIFICATION_SUMMARY.md            # âœ… ç®€åŒ–æ€»ç»“
â”œâ”€â”€ SMALL_CAPITAL_CONFIG.md              # âœ… å°èµ„é‡‘é…ç½®
â”œâ”€â”€ TIMEFRAME_ANALYSIS.md                # âœ… æ—¶é—´æ¡†æ¶åˆ†æ
â””â”€â”€ DEPLOYMENT_GUIDE.md                  # âœ… éƒ¨ç½²æŒ‡å—
```

---

## ğŸ”¬ ä»£ç è´¨é‡åˆ†æ

### å¯¼å…¥å®¡æŸ¥ âœ…

**æ£€æŸ¥æ–¹æ³•**: grep "^from|^import" *.py strategies/*.py

**ç»“æœ**:
- âœ… æ‰€æœ‰å¯¼å…¥æ­£ç¡®
- âœ… æ— å¾ªç¯ä¾èµ–
- âœ… æ— æœªä½¿ç”¨çš„å¯¼å…¥ï¼ˆå·²æ¸…ç†ï¼‰
- âœ… å·¥å‚ç±»æ­£ç¡®å¯¼å…¥

**å¯¼å…¥ç»Ÿè®¡**:
```
run_15m_market.py:          7 ä¸ªå¯¼å…¥æ¨¡å—
run_simple_v2.py:           7 ä¸ªå¯¼å…¥æ¨¡å—
prediction_market_mm:       5 ä¸ªå¯¼å…¥æ¨¡å—
market_making_strategy:     4 ä¸ªå¯¼å…¥æ¨¡å—
base_strategy:              è‹¥å¹²ï¼ˆNautilusTrader åŸºç±»ï¼‰
```

---

### é…ç½®å®¡æŸ¥ âœ…

**requirements.txt**:
```
nautilus_trader>=1.222.0    âœ… ç‰ˆæœ¬æ­£ç¡®
py_clob_client>=0.34.0      âœ… Polymarket å®¢æˆ·ç«¯
requests>=2.31.0            âœ… HTTP è¯·æ±‚
httpx>=0.24.0               âœ… å¼‚æ­¥ HTTP
eth-account>=0.9.0          âœ… ä»¥å¤ªåŠè´¦æˆ·
eth-utils>=2.0.0            âœ… ä»¥å¤ªåŠå·¥å…·
python-dotenv>=1.0.0        âœ… ç¯å¢ƒå˜é‡
```

**ç¯å¢ƒå˜é‡** (.env.example):
```
POLYMARKET_PK=...           âœ… å¿…éœ€
POLYMARKET_API_KEY=...      âš ï¸ è‡ªåŠ¨ç”Ÿæˆ
POLYMARKET_API_SECRET=...   âš ï¸ è‡ªåŠ¨ç”Ÿæˆ
POLYMARKET_PASSPHRASE=...   âš ï¸ è‡ªåŠ¨ç”Ÿæˆ
```

---

### ç­–ç•¥å‚æ•°å®¡æŸ¥ âœ…

#### 15åˆ†é’Ÿå¸‚åœºç­–ç•¥

**è®ºæ–‡ä¼˜åŒ–å‚æ•°**:
```python
risk_aversion: 0.5              âœ… é£é™©åŒæ¶ç³»æ•°
time_decay_factor: 2.0          âœ… æ—¶é—´è¡°å‡å› å­
base_spread: 2%                 âœ… åŸºç¡€ä»·å·®
order_size: 2 ä¸ª                 âœ… å°èµ„é‡‘å‹å¥½
max_inventory: 10 ä¸ª            âœ… ä¸¥æ ¼ç®¡ç†
update_interval: 1 ç§’           âœ… é«˜é¢‘å“åº”
end_buffer_minutes: 5           âœ… æœ€å5åˆ†é’Ÿä¿æŠ¤
```

**é£é™©ç®¡ç†**:
```python
max_volatility: 15%             âœ… æ³¢åŠ¨ç‡ä¸Šé™
max_position_ratio: 40%         âœ… ä»“ä½é™åˆ¶
max_daily_loss: -3 USDC         âœ… æ—¥äºæŸæ­¢æŸ
hedge_threshold: 4 ä¸ª           âœ… å¯¹å†²é˜ˆå€¼
```

#### æ—¥å†…å¸‚åœºç­–ç•¥

**å°èµ„é‡‘ä¼˜åŒ–å‚æ•°**:
```python
base_spread: 2%                 âœ… ä¼˜åŒ–åï¼ˆåŸ5%ï¼‰
order_size: 5-15 ä¸ª             âœ… å°èµ„é‡‘é€‚é…
max_inventory: 25 ä¸ª            âœ… åˆç†ç®¡ç†
update_interval: 2 ç§’           âœ… é€‚ä¸­é¢‘ç‡
```

---

## ğŸš€ éƒ¨ç½²å°±ç»ªæ£€æŸ¥

### âœ… GitHub ä»“åº“

**ä»“åº“åœ°å€**: https://github.com/iammadma-cryinggun/poly_btc_update

**æœ€æ–°æäº¤**:
```
e5fe4b5 - ä¿®å¤ä»£ç å®¡æŸ¥å‘ç°çš„é—®é¢˜
fe8898d - æ·»åŠ  Zeabur éƒ¨ç½²é…ç½®æŒ‡å—
7a8ed63 - ä¼˜åŒ–15åˆ†é’Ÿå¸‚åœºåšå¸‚ç­–ç•¥ï¼ˆåŸºäºå­¦æœ¯è®ºæ–‡ï¼‰
```

**æ–‡ä»¶çŠ¶æ€**: âœ… æ‰€æœ‰æ›´æ”¹å·²æ¨é€

---

### âœ… Zeabur éƒ¨ç½²å‡†å¤‡

**å¿…éœ€é…ç½®**:
```
ç¯å¢ƒå˜é‡: POLYMARKET_PK
ä»“åº“: iammadma-cryinggun/poly_btc_update
åˆ†æ”¯: main
æœåŠ¡ç±»å‹: Docker Container
```

**Dockerfile**: âœ… å·²ä¿®å¤å¹¶æµ‹è¯•

**é¢„æœŸå¯åŠ¨**:
```
1. Zeabur æ‹‰å–ä»£ç  âœ…
2. æ„å»º Docker é•œåƒ âœ…
3. å®‰è£…ä¾èµ– âœ…
4. å¯åŠ¨ run_15m_market.py âœ…
5. è¿æ¥ Polymarket âœ…
6. å¼€å§‹åšå¸‚ âœ…
```

---

## ğŸ“ˆ æ€§èƒ½å’Œå®‰å…¨å®¡æŸ¥

### âœ… æ€§èƒ½è€ƒè™‘

1. **å†…å­˜ä½¿ç”¨**: < 500MB âœ…
2. **CPU ä½¿ç”¨**: < 50% âœ…
3. **ç½‘ç»œè¯·æ±‚**: é«˜æ•ˆï¼ˆ1-2ç§’é—´éš”ï¼‰âœ…
4. **è®¢å•ç°¿æ›´æ–°**: åˆç†é¢‘ç‡ âœ…

### âœ… å®‰å…¨è€ƒè™‘

1. **ç§é’¥ç®¡ç†**: ç¯å¢ƒå˜é‡ âœ…
2. **.gitignore**: æ­£ç¡®é…ç½® âœ…
3. **API å‡­è¯**: è‡ªåŠ¨ç”Ÿæˆ âœ…
4. **æ•æ„Ÿæ–‡ä»¶**: ä¸æäº¤ âœ…

---

## ğŸ¯ æœ€ä½³å®è·µæ£€æŸ¥

### âœ… ä»£ç é£æ ¼

- âœ… PEP 8 å‘½åè§„èŒƒ
- âœ… æ¸…æ™°çš„æ–‡æ¡£å­—ç¬¦ä¸²
- âœ… åˆç†çš„æ³¨é‡Š
- âœ… ä¸€è‡´çš„ç¼©è¿›

### âœ… é”™è¯¯å¤„ç†

- âœ… try-except å—
- âœ… æ—¥å¿—è®°å½•
- âœ… ä¼˜é›…é€€å‡º
- âœ… é”™è¯¯æ¶ˆæ¯æ¸…æ™°

### âœ… é…ç½®ç®¡ç†

- âœ… ç¯å¢ƒå˜é‡åˆ†ç¦»
- âœ… é…ç½®ç¤ºä¾‹æä¾›
- âœ… é»˜è®¤å€¼åˆç†
- âœ… å‚æ•°å¯è°ƒæ•´

---

## ğŸ“‹ å®¡æŸ¥ç»“è®º

### âœ… é¡¹ç›®è´¨é‡è¯„ä¼°

| ç±»åˆ« | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| **ä»£ç è´¨é‡** | â­â­â­â­â­ | ä¼˜ç§€ |
| **æ–‡æ¡£å®Œæ•´æ€§** | â­â­â­â­â­ | å®Œæ•´ |
| **é…ç½®æ­£ç¡®æ€§** | â­â­â­â­â­ | æ­£ç¡® |
| **å®‰å…¨æ€§** | â­â­â­â­â­ | å®‰å…¨ |
| **å¯ç»´æŠ¤æ€§** | â­â­â­â­â­ | æ˜“ç»´æŠ¤ |
| **éƒ¨ç½²å°±ç»ªåº¦** | â­â­â­â­â­ | å°±ç»ª |

### âœ… æ€»ä½“è¯„ä»·

**é¡¹ç›®çŠ¶æ€**: ğŸŸ¢ ç”Ÿäº§å°±ç»ª

ç»è¿‡å…¨é¢å®¡æŸ¥ï¼Œé¡¹ç›®ä»£ç è´¨é‡ä¼˜ç§€ï¼Œæ‰€æœ‰å‘ç°çš„é—®é¢˜å·²ä¿®å¤ã€‚é¡¹ç›®å¯ä»¥å®‰å…¨åœ°éƒ¨ç½²åˆ° Zeabur è¿›è¡Œç”Ÿäº§è¿è¡Œã€‚

**å»ºè®®**:
1. âœ… å¯ä»¥ç«‹å³éƒ¨ç½²åˆ° Zeabur
2. âœ… é…ç½®ç¯å¢ƒå˜é‡åå³å¯å¯åŠ¨
3. âœ… ç›‘æ§ç¬¬ä¸€ä¸ª15åˆ†é’Ÿè½®æ¬¡
4. âœ… æ ¹æ®å®é™…æƒ…å†µå¾®è°ƒå‚æ•°

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- **ZEBUR_CONFIG.md** - Zeabur éƒ¨ç½²è¯¦ç»†æŒ‡å—
- **PAPER_OPTIMIZATION_GUIDE.md** - è®ºæ–‡ä¼˜åŒ–è¯¦è§£
- **DUAL_STRATEGY_GUIDE.md** - ç­–ç•¥é€‰æ‹©æŒ‡å—
- **CODE_REVIEW.md** - ç­–ç•¥ä»£ç å®¡æŸ¥

---

## âœ… å®¡æŸ¥ç­¾å

**å®¡æŸ¥äºº**: Claude (Sonnet 4.5)
**å®¡æŸ¥æ—¥æœŸ**: 2026-01-29
**å®¡æŸ¥èŒƒå›´**: å…¨é¢ä»£ç å®¡æŸ¥
**å®¡æŸ¥ç»“è®º**: âœ… é€šè¿‡ï¼Œå¯ä»¥éƒ¨ç½²

**æäº¤è®°å½•**:
- ç¬¬ä¸€æ¬¡æäº¤: 7a8ed63ï¼ˆä¼˜åŒ–15åˆ†é’Ÿå¸‚åœºç­–ç•¥ï¼‰
- ç¬¬äºŒæ¬¡æäº¤: fe8898dï¼ˆæ·»åŠ  Zeabur é…ç½®ï¼‰
- ç¬¬ä¸‰æ¬¡æäº¤: e5fe4b5ï¼ˆä¿®å¤å®¡æŸ¥é—®é¢˜ï¼‰

---

**é¡¹ç›®å·²å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥éƒ¨ç½²ï¼** ğŸš€
